#pragma checksum "/Users/cam/Desktop/oqtane.framework/Oqtane.Client/Modules/Admin/Logs/Index.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "4fc31bc8d26da7db8c793f6d2d2a914b4be151ad"
// <auto-generated/>
#pragma warning disable 1591
namespace Oqtane.Modules.Admin.Logs
{
    #line hidden
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#line 1 "/Users/cam/Desktop/oqtane.framework/Oqtane.Client/_Imports.razor"
using System;

#line default
#line hidden
#line 2 "/Users/cam/Desktop/oqtane.framework/Oqtane.Client/_Imports.razor"
using System.Linq;

#line default
#line hidden
#line 3 "/Users/cam/Desktop/oqtane.framework/Oqtane.Client/_Imports.razor"
using System.Collections.Generic;

#line default
#line hidden
#line 4 "/Users/cam/Desktop/oqtane.framework/Oqtane.Client/_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#line 6 "/Users/cam/Desktop/oqtane.framework/Oqtane.Client/_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#line 7 "/Users/cam/Desktop/oqtane.framework/Oqtane.Client/_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#line 8 "/Users/cam/Desktop/oqtane.framework/Oqtane.Client/_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#line 9 "/Users/cam/Desktop/oqtane.framework/Oqtane.Client/_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#line 11 "/Users/cam/Desktop/oqtane.framework/Oqtane.Client/_Imports.razor"
using Oqtane.Models;

#line default
#line hidden
#line 12 "/Users/cam/Desktop/oqtane.framework/Oqtane.Client/_Imports.razor"
using Oqtane.Modules;

#line default
#line hidden
#line 13 "/Users/cam/Desktop/oqtane.framework/Oqtane.Client/_Imports.razor"
using Oqtane.Modules.Controls;

#line default
#line hidden
#line 14 "/Users/cam/Desktop/oqtane.framework/Oqtane.Client/_Imports.razor"
using Oqtane.Providers;

#line default
#line hidden
#line 15 "/Users/cam/Desktop/oqtane.framework/Oqtane.Client/_Imports.razor"
using Oqtane.Security;

#line default
#line hidden
#line 16 "/Users/cam/Desktop/oqtane.framework/Oqtane.Client/_Imports.razor"
using Oqtane.Services;

#line default
#line hidden
#line 17 "/Users/cam/Desktop/oqtane.framework/Oqtane.Client/_Imports.razor"
using Oqtane.Shared;

#line default
#line hidden
#line 18 "/Users/cam/Desktop/oqtane.framework/Oqtane.Client/_Imports.razor"
using Oqtane.Themes;

#line default
#line hidden
#line 19 "/Users/cam/Desktop/oqtane.framework/Oqtane.Client/_Imports.razor"
using Oqtane.Themes.Controls;

#line default
#line hidden
#line 20 "/Users/cam/Desktop/oqtane.framework/Oqtane.Client/_Imports.razor"
using Oqtane.UI;

#line default
#line hidden
#line 21 "/Users/cam/Desktop/oqtane.framework/Oqtane.Client/_Imports.razor"
using Oqtane.Enums;

#line default
#line hidden
    public partial class Index : ModuleBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
#line 5 "/Users/cam/Desktop/oqtane.framework/Oqtane.Client/Modules/Admin/Logs/Index.razor"
 if (_logs == null)
{

#line default
#line hidden
            __builder.AddContent(0, "    ");
            __builder.AddMarkupContent(1, "<p><em>Loading...</em></p>\n");
#line 8 "/Users/cam/Desktop/oqtane.framework/Oqtane.Client/Modules/Admin/Logs/Index.razor"
}
else
{

#line default
#line hidden
            __builder.AddContent(2, "    ");
            __builder.OpenElement(3, "table");
            __builder.AddAttribute(4, "class", "table table-borderless");
            __builder.AddMarkupContent(5, "\n        ");
            __builder.OpenElement(6, "tr");
            __builder.AddMarkupContent(7, "\n            ");
            __builder.OpenElement(8, "td");
            __builder.AddMarkupContent(9, "\n                ");
            __builder.AddMarkupContent(10, "<label>Level: </label>\n                ");
            __builder.OpenElement(11, "select");
            __builder.AddAttribute(12, "class", "form-control");
            __builder.AddAttribute(13, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#line 15 "/Users/cam/Desktop/oqtane.framework/Oqtane.Client/Modules/Admin/Logs/Index.razor"
                                                        (e => LevelChanged(e))

#line default
#line hidden
            ));
            __builder.AddMarkupContent(14, "\n                    ");
            __builder.OpenElement(15, "option");
            __builder.AddAttribute(16, "value", "-");
            __builder.AddContent(17, "<All Levels>");
            __builder.CloseElement();
            __builder.AddMarkupContent(18, "\n                    ");
            __builder.OpenElement(19, "option");
            __builder.AddAttribute(20, "value", "Trace");
            __builder.AddContent(21, "Trace");
            __builder.CloseElement();
            __builder.AddMarkupContent(22, "\n                    ");
            __builder.OpenElement(23, "option");
            __builder.AddAttribute(24, "value", "Debug");
            __builder.AddContent(25, "Debug");
            __builder.CloseElement();
            __builder.AddMarkupContent(26, "\n                    ");
            __builder.OpenElement(27, "option");
            __builder.AddAttribute(28, "value", "Information");
            __builder.AddContent(29, "Information");
            __builder.CloseElement();
            __builder.AddMarkupContent(30, "\n                    ");
            __builder.OpenElement(31, "option");
            __builder.AddAttribute(32, "value", "Warning");
            __builder.AddContent(33, "Warning");
            __builder.CloseElement();
            __builder.AddMarkupContent(34, "\n                    ");
            __builder.OpenElement(35, "option");
            __builder.AddAttribute(36, "value", "Error");
            __builder.AddContent(37, "Error");
            __builder.CloseElement();
            __builder.AddMarkupContent(38, "\n                    ");
            __builder.OpenElement(39, "option");
            __builder.AddAttribute(40, "value", "Critical");
            __builder.AddContent(41, "Critical");
            __builder.CloseElement();
            __builder.AddMarkupContent(42, "\n                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(43, "\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(44, "\n            ");
            __builder.OpenElement(45, "td");
            __builder.AddMarkupContent(46, "\n                ");
            __builder.AddMarkupContent(47, "<label>Function: </label>\n                ");
            __builder.OpenElement(48, "select");
            __builder.AddAttribute(49, "class", "form-control");
            __builder.AddAttribute(50, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#line 27 "/Users/cam/Desktop/oqtane.framework/Oqtane.Client/Modules/Admin/Logs/Index.razor"
                                                        (e => FunctionChanged(e))

#line default
#line hidden
            ));
            __builder.AddMarkupContent(51, "\n                    ");
            __builder.OpenElement(52, "option");
            __builder.AddAttribute(53, "value", "-");
            __builder.AddContent(54, "<All Functions>");
            __builder.CloseElement();
            __builder.AddMarkupContent(55, "\n                    ");
            __builder.OpenElement(56, "option");
            __builder.AddAttribute(57, "value", "Create");
            __builder.AddContent(58, "Create");
            __builder.CloseElement();
            __builder.AddMarkupContent(59, "\n                    ");
            __builder.OpenElement(60, "option");
            __builder.AddAttribute(61, "value", "Read");
            __builder.AddContent(62, "Read");
            __builder.CloseElement();
            __builder.AddMarkupContent(63, "\n                    ");
            __builder.OpenElement(64, "option");
            __builder.AddAttribute(65, "value", "Update");
            __builder.AddContent(66, "Update");
            __builder.CloseElement();
            __builder.AddMarkupContent(67, "\n                    ");
            __builder.OpenElement(68, "option");
            __builder.AddAttribute(69, "value", "Delete");
            __builder.AddContent(70, "Delete");
            __builder.CloseElement();
            __builder.AddMarkupContent(71, "\n                    ");
            __builder.OpenElement(72, "option");
            __builder.AddAttribute(73, "value", "Security");
            __builder.AddContent(74, "Security");
            __builder.CloseElement();
            __builder.AddMarkupContent(75, "\n                    ");
            __builder.OpenElement(76, "option");
            __builder.AddAttribute(77, "value", "Other");
            __builder.AddContent(78, "Other");
            __builder.CloseElement();
            __builder.AddMarkupContent(79, "\n                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(80, "\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(81, "\n            ");
            __builder.OpenElement(82, "td");
            __builder.AddMarkupContent(83, "\n                ");
            __builder.AddMarkupContent(84, "<label>Rows: </label>\n                ");
            __builder.OpenElement(85, "select");
            __builder.AddAttribute(86, "class", "form-control");
            __builder.AddAttribute(87, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#line 39 "/Users/cam/Desktop/oqtane.framework/Oqtane.Client/Modules/Admin/Logs/Index.razor"
                                                        (e => RowsChanged(e))

#line default
#line hidden
            ));
            __builder.AddMarkupContent(88, "\n                    ");
            __builder.OpenElement(89, "option");
            __builder.AddAttribute(90, "value", "10");
            __builder.AddContent(91, "10");
            __builder.CloseElement();
            __builder.AddMarkupContent(92, "\n                    ");
            __builder.OpenElement(93, "option");
            __builder.AddAttribute(94, "value", "50");
            __builder.AddContent(95, "50");
            __builder.CloseElement();
            __builder.AddMarkupContent(96, "\n                    ");
            __builder.OpenElement(97, "option");
            __builder.AddAttribute(98, "value", "100");
            __builder.AddContent(99, "100");
            __builder.CloseElement();
            __builder.AddMarkupContent(100, "\n                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(101, "\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(102, "\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(103, "\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(104, "\n");
#line 48 "/Users/cam/Desktop/oqtane.framework/Oqtane.Client/Modules/Admin/Logs/Index.razor"
     if (_logs.Any())
    {

#line default
#line hidden
            __builder.AddContent(105, "        ");
            __Blazor.Oqtane.Modules.Admin.Logs.Index.TypeInference.CreatePager_0(__builder, 106, 107, 
#line 50 "/Users/cam/Desktop/oqtane.framework/Oqtane.Client/Modules/Admin/Logs/Index.razor"
                       _logs

#line default
#line hidden
            , 108, (__builder2) => {
                __builder2.AddMarkupContent(109, "\n                ");
                __builder2.AddMarkupContent(110, "<th style=\"width: 1px;\">&nbsp;</th>\n                ");
                __builder2.AddMarkupContent(111, "<th>Date</th>\n                ");
                __builder2.AddMarkupContent(112, "<th>Level</th>\n                ");
                __builder2.AddMarkupContent(113, "<th>Feature</th>\n                ");
                __builder2.AddMarkupContent(114, "<th>Function</th>\n            ");
            }
            , 115, (context) => (__builder2) => {
                __builder2.AddMarkupContent(116, "\n                ");
                __builder2.OpenElement(117, "td");
                __builder2.AddAttribute(118, "class", 
#line 59 "/Users/cam/Desktop/oqtane.framework/Oqtane.Client/Modules/Admin/Logs/Index.razor"
                            GetClass(context.Function)

#line default
#line hidden
                );
                __builder2.OpenComponent<Oqtane.Modules.Controls.ActionLink>(119);
                __builder2.AddAttribute(120, "Action", "Detail");
                __builder2.AddAttribute(121, "Parameters", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#line 59 "/Users/cam/Desktop/oqtane.framework/Oqtane.Client/Modules/Admin/Logs/Index.razor"
                                                                                                  $"id=" + context.LogId.ToString()

#line default
#line hidden
                ));
                __builder2.CloseComponent();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(122, "\n                ");
                __builder2.OpenElement(123, "td");
                __builder2.AddAttribute(124, "class", 
#line 60 "/Users/cam/Desktop/oqtane.framework/Oqtane.Client/Modules/Admin/Logs/Index.razor"
                            GetClass(context.Function)

#line default
#line hidden
                );
                __builder2.AddContent(125, 
#line 60 "/Users/cam/Desktop/oqtane.framework/Oqtane.Client/Modules/Admin/Logs/Index.razor"
                                                         context.LogDate

#line default
#line hidden
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(126, "\n                ");
                __builder2.OpenElement(127, "td");
                __builder2.AddAttribute(128, "class", 
#line 61 "/Users/cam/Desktop/oqtane.framework/Oqtane.Client/Modules/Admin/Logs/Index.razor"
                            GetClass(context.Function)

#line default
#line hidden
                );
                __builder2.AddContent(129, 
#line 61 "/Users/cam/Desktop/oqtane.framework/Oqtane.Client/Modules/Admin/Logs/Index.razor"
                                                         context.Level

#line default
#line hidden
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(130, "\n                ");
                __builder2.OpenElement(131, "td");
                __builder2.AddAttribute(132, "class", 
#line 62 "/Users/cam/Desktop/oqtane.framework/Oqtane.Client/Modules/Admin/Logs/Index.razor"
                            GetClass(context.Function)

#line default
#line hidden
                );
                __builder2.AddContent(133, 
#line 62 "/Users/cam/Desktop/oqtane.framework/Oqtane.Client/Modules/Admin/Logs/Index.razor"
                                                         context.Feature

#line default
#line hidden
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(134, "\n                ");
                __builder2.OpenElement(135, "td");
                __builder2.AddAttribute(136, "class", 
#line 63 "/Users/cam/Desktop/oqtane.framework/Oqtane.Client/Modules/Admin/Logs/Index.razor"
                            GetClass(context.Function)

#line default
#line hidden
                );
                __builder2.AddContent(137, 
#line 63 "/Users/cam/Desktop/oqtane.framework/Oqtane.Client/Modules/Admin/Logs/Index.razor"
                                                         context.Function

#line default
#line hidden
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(138, "\n            ");
            }
            );
            __builder.AddMarkupContent(139, "\n");
#line 66 "/Users/cam/Desktop/oqtane.framework/Oqtane.Client/Modules/Admin/Logs/Index.razor"
    }
    else
    {

#line default
#line hidden
            __builder.AddContent(140, "        ");
            __builder.AddMarkupContent(141, "<p><em>No Logs Match The Criteria Specified</em></p>\n");
#line 70 "/Users/cam/Desktop/oqtane.framework/Oqtane.Client/Modules/Admin/Logs/Index.razor"
    }

#line default
#line hidden
#line 70 "/Users/cam/Desktop/oqtane.framework/Oqtane.Client/Modules/Admin/Logs/Index.razor"
     
}

#line default
#line hidden
        }
        #pragma warning restore 1998
#line 73 "/Users/cam/Desktop/oqtane.framework/Oqtane.Client/Modules/Admin/Logs/Index.razor"
       
    private string _level = "-";
    private string _function = "-";
    private string _rows = "10";
    private List<Log> _logs;

    public override SecurityAccessLevel SecurityAccessLevel => SecurityAccessLevel.Host;

    protected override async Task OnInitializedAsync()
    {
        try
        {
            await GetLogs();
        }
        catch (Exception ex)
        {
            await logger.LogError(ex, "Error Loading Logs {Error}", ex.Message);
            AddModuleMessage("Error Loading Logs", MessageType.Error);
        }
    }

    private async void LevelChanged(ChangeEventArgs e)
    {
        try
        {
            _level = (string)e.Value;
            await GetLogs();
            StateHasChanged();
        }
        catch (Exception ex)
        {
            await logger.LogError(ex, "Error Loading Logs {Error}", ex.Message);
            AddModuleMessage("Error Loading Logs", MessageType.Error);
        }
    }

    private async void FunctionChanged(ChangeEventArgs e)
    {
        try
        {
            _function = (string)e.Value;
            await GetLogs();
            StateHasChanged();
        }
        catch (Exception ex)
        {
            await logger.LogError(ex, "Error Loading Logs {Error}", ex.Message);
            AddModuleMessage("Error Loading Logs", MessageType.Error);
        }
    }


    private async void RowsChanged(ChangeEventArgs e)
    {
        try
        {
            _rows = (string)e.Value;
            await GetLogs();
            StateHasChanged();
        }
        catch (Exception ex)
        {
            await logger.LogError(ex, "Error Loading Logs {Error}", ex.Message);
            AddModuleMessage("Error Loading Logs", MessageType.Error);
        }
    }

    private async Task GetLogs()
    {
        _logs = await LogService.GetLogsAsync(PageState.Site.SiteId, ((_level == "-") ? string.Empty : _level), ((_function == "-") ? string.Empty : _function), int.Parse(_rows));
    }

    private string GetClass(string function)
    {
        string classname = string.Empty;
        switch (function)
        {
            case "Create":
                classname = "table-success";
                break;
            case "Read":
                classname = "table-primary";
                break;
            case "Update":
                classname = "table-warning";
                break;
            case "Delete":
                classname = "table-danger";
                break;
            case "Security":
                classname = "table-secondary";
                break;
            default:
                classname = string.Empty;
                break;
        }
        return classname;
    }

#line default
#line hidden
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private ILogService LogService { get; set; }
    }
}
namespace __Blazor.Oqtane.Modules.Admin.Logs.Index
{
    #line hidden
    internal static class TypeInference
    {
        public static void CreatePager_0<TableItem>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Collections.Generic.IEnumerable<TableItem> __arg0, int __seq1, global::Microsoft.AspNetCore.Components.RenderFragment __arg1, int __seq2, global::Microsoft.AspNetCore.Components.RenderFragment<TableItem> __arg2)
        {
        __builder.OpenComponent<global::Oqtane.Modules.Controls.Pager<TableItem>>(seq);
        __builder.AddAttribute(__seq0, "Items", __arg0);
        __builder.AddAttribute(__seq1, "Header", __arg1);
        __builder.AddAttribute(__seq2, "Row", __arg2);
        __builder.CloseComponent();
        }
    }
}
#pragma warning restore 1591
